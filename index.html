<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Competition Result System</title>

<style>
body{margin:0;font-family:tahoma;background:#eef1ff}
header{background:#5b3cff;color:white;padding:15px;text-align:center;font-size:22px}
.card{background:white;margin:20px auto;padding:20px;border-radius:12px;max-width:900px;box-shadow:0 0 10px #ccc}
button{background:#5b3cff;color:white;border:none;padding:8px 15px;border-radius:6px;margin:4px}
input{padding:6px;border-radius:5px;border:1px solid #aaa}
table{border-collapse:collapse;width:100%;font-size:13px}
th,td{border:1px solid #aaa;padding:6px;text-align:center}
th{background:#ddd6ff}
</style>
</head>

<body>

<header>üèÜ COMPETITION RESULT SYSTEM</header>

<div id=app></div>

<script>

const ADMIN="9999";

let players=[
{id:"41235",name:"‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏û‡∏á‡∏®‡πå ‡∏®‡∏£‡∏µ‡∏ó‡∏≠‡∏á"},
{id:"43821",name:"‡∏õ‡∏£‡∏≤‡∏ì‡∏µ ‡∏ß‡∏á‡∏®‡πå‡∏ß‡∏£‡∏£‡∏ì"},
{id:"44123",name:"‡πÑ‡∏≠‡∏•‡∏î‡∏≤‡∏™‡∏¥‡∏á‡∏´‡πå ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå"},
{id:"43881",name:"‡∏Å‡∏§‡∏ï‡∏¥‡∏ç‡∏î‡∏≤ ‡∏ñ‡∏µ‡∏£‡∏ß‡∏á‡∏®‡πå"},
{id:"42759",name:"‡∏û‡∏µ‡∏£‡∏ß‡∏±‡∏ç ‡∏°‡∏ì‡∏µ‡πÇ‡∏ä‡∏ï‡∏¥"}
];

let db=JSON.parse(localStorage.getItem("db")||"{}");

if(!Object.keys(db).length){
players.forEach(p=>db[p.id]=Math.floor(Math.random()*50)+50);
localStorage.setItem("db",JSON.stringify(db));
}

home();

function home(){
app.innerHTML=`<div class=card>
<h2>üèÅ Welcome</h2>
<button onclick=viewer()>‡∏î‡∏π‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</button>
<button onclick=adminLogin()>Admin</button>
</div>`;
}

function viewer(){
let r=ranking();
let h="<div class=card><h3>üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h3><table><tr><th>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th></tr>";

r.forEach((p,i)=>{
let medal=i==0?"ü•á":i==1?"ü•à":i==2?"ü•â":"";
h+=`<tr><td>${i+1}${medal}</td><td>${p.name}</td><td>${p.score}</td></tr>`;
});

h+=`</table><br><button onclick=home()>Home</button></div>`;
app.innerHTML=h;
}

function adminLogin(){
app.innerHTML=`<div class=card>
<h3>Admin Login</h3>
<input id=ap type=password placeholder="Password"><br><br>
<button onclick=admin()>Login</button>
<button onclick=home()>Home</button>
</div>`;
}

function admin(){
if(ap.value!=ADMIN){alert("Wrong password");return;}

let h="<div class=card><h3>ADMIN PANEL</h3><table><tr><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th></tr>";

players.forEach(p=>{
h+=`<tr>
<td>${p.name}</td>
<td contenteditable oninput="db['${p.id}']=Number(this.innerText)||0">${db[p.id]}</td>
</tr>`;
});

h+=`</table><br><button onclick=save()>Save</button> <button onclick=home()>Home</button></div>`;
app.innerHTML=h;
}

function ranking(){
return players.map(p=>({id:p.id,name:p.name,score:db[p.id]}))
.sort((a,b)=>b.score-a.score);
}

function save(){
localStorage.setItem("db",JSON.stringify(db));
alert("Saved");
}

</script>
</body>
</html>