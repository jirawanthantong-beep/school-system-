<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Competition Board</title>

<style>
body{margin:0;font-family:tahoma;background:#eef}
header{background:#5b3cff;color:white;padding:15px;text-align:center;font-size:22px}
.card{background:white;margin:20px auto;padding:20px;border-radius:10px;max-width:900px}
button{background:#5b3cff;color:white;border:none;padding:8px 15px;border-radius:6px;margin:4px}
input{padding:6px;border-radius:5px;border:1px solid #aaa}
table{border-collapse:collapse;width:100%}
th,td{border:1px solid #aaa;padding:6px;text-align:center}
th{background:#ddd}
</style>
</head>

<body>

<header>üèÜ Competition Result Board</header>
<div id="app"></div>

<script>

const ADMIN="9999";

const players=[
{id:"41235",name:"‡∏ô‡∏¥‡∏ß"},
{id:"43821",name:"‡∏õ‡∏£‡∏≤‡∏ì‡∏µ ‡∏ß‡∏á‡∏®‡πå‡∏ß‡∏£‡∏£‡∏ì"},
{id:"44123",name:"‡πÄ‡∏Ñ‡∏ã‡∏µ‡πà"},
{id:"43881",name:"‡∏Å‡∏§‡∏ï‡∏¥‡∏ç‡∏î‡∏≤ ‡∏ñ‡∏µ‡∏£‡∏ß‡∏á‡∏®‡πå"},
{id:"42759",name:"‡∏û‡∏µ‡∏£‡∏ß‡∏±‡∏ç ‡∏°‡∏ì‡∏µ‡πÇ‡∏ä‡∏ï‡∏¥"}
];

let db=JSON.parse(localStorage.getItem("score")||"{}");

if(!Object.keys(db).length){
players.forEach(p=>db[p.id]={c:20,p:15,t:15,team:10});
localStorage.setItem("score",JSON.stringify(db));
}

home();

function total(x){return x.c+x.p+x.t+x.team;}

function rank(){
return players.map(p=>({id:p.id,name:p.name,sum:total(db[p.id])}))
.sort((a,b)=>b.sum-a.sum);
}

function home(){
app.innerHTML=`
<div class=card>
<h2>Home</h2>
‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô:<br>
‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà1 30 | ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà2 25 | ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà3 25 | ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà4 20 | ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà5 100<br><br>

<button onclick="student()">‡∏î‡∏π‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</button>
<button onclick="adminLogin()">Admin</button>
</div>`;
}

function student(){
app.innerHTML=`
<div class=card>
‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß:<br>
<input id=sid><br><br>
<button onclick="show()">‡∏î‡∏π‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
<button onclick="home()">Back</button>
</div>`;
}

function show(){
let p=players.find(x=>x.id==sid.value);
if(!p){alert("‡πÑ‡∏°‡πà‡∏û‡∏ö");return;}

let s=db[p.id];
let r=rank();
let pos=r.findIndex(x=>x.id==p.id)+1;

app.innerHTML=`
<div class=card>
<h3>${p.name}</h3>
‡∏Ñ‡∏£‡∏±‡πâ‡∏á1 ${s.c}<br>
‡∏Ñ‡∏£‡∏±‡πâ‡∏á2 ${s.p}<br>
‡∏Ñ‡∏£‡∏±‡πâ‡∏á3 ${s.t}<br>
‡∏Ñ‡∏£‡∏±‡πâ‡∏á4 ${s.t}<br>
‡∏Ñ‡∏£‡∏±‡πâ‡∏á5 ${s.team}<br><br>

<b>‡∏£‡∏ß‡∏° ${total(s)}</b><br>
‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö ${pos}/${players.length}<br><br>

<button onclick="home()">Home</button>
</div>`;
}

function adminLogin(){
app.innerHTML=`
<div class=card>
Admin Password<br>
<input id=ap type=password><br><br>
<button onclick="admin()">Login</button>
<button onclick="home()">Back</button>
</div>`;
}

function admin(){
if(ap.value!=ADMIN){alert("wrong");return;}

let h=`<div class=card><h3>ADMIN</h3><table>
<tr><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏™‡∏£‡πâ‡∏≤‡∏á</th><th>‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠</th><th>‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</th><th>‡∏ó‡∏µ‡∏°</th></tr>`;

players.forEach(p=>{
let s=db[p.id];
h+=`
<tr>
<td>${p.name}</td>
<td contenteditable oninput="db['${p.id}'].c=+this.innerText">${s.c}</td>
<td contenteditable oninput="db['${p.id}'].p=+this.innerText">${s.p}</td>
<td contenteditable oninput="db['${p.id}'].t=+this.innerText">${s.t}</td>
<td contenteditable oninput="db['${p.id}'].team=+this.innerText">${s.team}</td>
</tr>`;
});

h+=`</table><br><button onclick="save()">Save</button> <button onclick="home()">Home</button></div>`;
app.innerHTML=h;
}

function save(){
localStorage.setItem("score",JSON.stringify(db));
alert("Saved");
}

</script>
</body>
</html>