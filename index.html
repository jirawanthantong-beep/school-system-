<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ICE School System</title>

<style>
body{font-family:Arial;background:#f2f4ff;padding:20px}
.card{background:white;padding:20px;border-radius:10px;max-width:1000px;margin:auto}
input,select{padding:5px;width:80px}
button{padding:8px;background:#4CAF50;color:white;border:none;border-radius:5px}
table{border-collapse:collapse;width:100%}
td,th{border:1px solid #ccc;padding:6px;text-align:center}
nav a{margin-right:10px}
</style>
</head>

<body>

<div class="card">

<h2>ICE School System</h2>

<nav>
<a href="#" onclick="home()">Home</a>
<a href="#" onclick="login()">Login</a>
<a href="#" onclick="admin()">Admin</a>
</nav>

<div id="app"></div>

</div>

<script>

const students=[
"กิตติพงศ์","ปราณี","พีรวัช","ชลธิชา","พิชญสินี","นรินทร์","อิสรา","ภูมิพัฒน์","ธีรภัทร","ชุติมา",
"ศุภชัย","ณัฐยา","พรทิพย์","จักรพล","วริษญา","ธนกร","มนัสนันท์","ศศิธร","ภานุพงศ์","ชลธร",
"กัญญารัตน์","อนุชา","พิมพชนก","ธันวัฒน์","ปริญญา","รัตนา","วรวิทย์","พัชรินทร์","อรินทรา","Alexander"
];

let current="";

home();

function home(){
document.getElementById("app").innerHTML=`
<h3>Welcome Student</h3>
<p>School Dashboard</p>
`;
}

function login(){
let opt="";
students.forEach(s=>opt+=`<option>${s}</option>`);

document.getElementById("app").innerHTML=`
<h3>Login</h3>
<select id="stu">${opt}</select>
<br><br>
<button onclick="enter()">Enter</button>
`;
}

function enter(){
current=document.getElementById("stu").value;
dashboard();
}

function dashboard(){
document.getElementById("app").innerHTML=`
<h3>${current}</h3>

<table>
<tr><th>วิชา</th><th>เก็บ70</th><th>สอบ30</th><th>รวม</th><th>เกรด</th></tr>

${row("ไทย")}
${row("คณิต")}
${row("วิทย์")}
${row("อังกฤษ")}
${row("สังคม")}
${row("ประวัติ")}
${row("สุข")}
${row("พละ")}
${row("ศิลปะ")}
${row("ดนตรี")}
${row("การงาน")}
${row("คอม")}

</table>

<br>
<button onclick="calc()">คำนวณเกรด</button>

<h3 id="gpa"></h3>
`;
}

function row(n){
return `<tr>
<td>${n}</td>
<td><input></td>
<td><input></td>
<td></td>
<td></td>
</tr>`;
}

function grade(x){
if(x>=80)return 4;
if(x>=70)return 3;
if(x>=60)return 2;
if(x>=50)return 1;
return 0;
}

function calc(){
let rows=document.querySelectorAll("tr");
let sum=0,c=0;

rows.forEach((r,i)=>{
if(i==0)return;

let a=r.children[1].children[0].value||0;
let b=r.children[2].children[0].value||0;

let total=Number(a)+Number(b);
r.children[3].innerHTML=total;

let g=grade(total);
r.children[4].innerHTML=g;

sum+=g;c++;
});

document.getElementById("gpa").innerHTML="GPA : "+(sum/c).toFixed(2);
}

function admin(){
document.getElementById("app").innerHTML=`
<h3>Admin Panel</h3>
<p>Students: 30</p>
<p>System Online</p>
`;
}

</script>

</body>
</html>