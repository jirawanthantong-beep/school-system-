<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Competition Result System</title>

<style>
body{margin:0;font-family:tahoma;background:#eef1ff}
header{background:#5b3cff;color:white;padding:15px;text-align:center;font-size:22px}
.card{background:white;margin:20px auto;padding:20px;border-radius:12px;max-width:1000px;box-shadow:0 0 10px #ccc}
button{background:#5b3cff;color:white;border:none;padding:8px 15px;border-radius:6px;margin:4px}
input{padding:6px;border-radius:5px;border:1px solid #aaa;width:60px}
table{border-collapse:collapse;width:100%;font-size:13px}
th,td{border:1px solid #aaa;padding:6px;text-align:center}
th{background:#ddd6ff}
small{color:#555}
</style>
</head>

<body>

<header>üèÜ COMPETITION RESULT SYSTEM</header>

<div id=app></div>

<script>

const ADMIN="9999";

/* ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô */
let players=[
{id:"41235",name:"‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏û‡∏á‡∏®‡πå ‡∏®‡∏£‡∏µ‡∏ó‡∏≠‡∏á"},
{id:"43821",name:"‡∏õ‡∏£‡∏≤‡∏ì‡∏µ ‡∏ß‡∏á‡∏®‡πå‡∏ß‡∏£‡∏£‡∏ì"},
{id:"44123",name:"‡πÑ‡∏≠‡∏•‡∏î‡∏≤‡∏™‡∏¥‡∏á‡∏´‡πå ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå"},
{id:"43881",name:"‡∏Å‡∏§‡∏ï‡∏¥‡∏ç‡∏î‡∏≤ ‡∏ñ‡∏µ‡∏£‡∏ß‡∏á‡∏®‡πå"},
{id:"42759",name:"‡∏û‡∏µ‡∏£‡∏ß‡∏±‡∏ç ‡∏°‡∏ì‡∏µ‡πÇ‡∏ä‡∏ï‡∏¥"}
];

/*
‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
Creativity 30
Presentation 25
Technique 25
Teamwork 20
‡∏£‡∏ß‡∏° 100
*/

let db=JSON.parse(localStorage.getItem("db")||"{}");

if(!Object.keys(db).length){
players.forEach(p=>{
db[p.id]={
cre:Math.floor(Math.random()*15)+15,
pre:Math.floor(Math.random()*15)+10,
tech:Math.floor(Math.random()*15)+10,
team:Math.floor(Math.random()*10)+10
};
});
localStorage.setItem("db",JSON.stringify(db));
}

home();

function total(p){
return p.cre+p.pre+p.tech+p.team;
}

function home(){
app.innerHTML=`<div class=card>
<h2>üèÅ ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</h2>

<b>üìå ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</b><br>
‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå 30 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô<br>
‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ 25 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô<br>
‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ / ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á 25 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô<br>
‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡∏° 20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô<br>
‡∏£‡∏ß‡∏° 100 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô

<br><br>

<button onclick=viewer()>‡∏î‡∏π‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</button>
<button onclick=adminLogin()>Admin</button>
</div>`;
}

function ranking(){
return players.map(p=>{
let s=db[p.id];
return {id:p.id,name:p.name,sum:total(s)};
}).sort((a,b)=>b.sum-a.sum);
}

function viewer(){
let r=ranking();
let h="<div class=card><h3>üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h3><table><tr><th>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</th></tr>";

r.forEach((p,i)=>{
let m=i==0?"ü•á":i==1?"ü•à":i==2?"ü•â":"";
h+=`<tr><td>${i+1}${m}</td><td>${p.name}</td><td>${p.sum}</td></tr>`;
});

h+=`</table><br><button onclick=home()>Home</button></div>`;
app.innerHTML=h;
}

function adminLogin(){
app.innerHTML=`<div class=card>
<h3>Admin Login</h3>
<input id=ap type=password placeholder="Password">
<br><br>
<button onclick=admin()>Login</button>
<button onclick=home()>Home</button>
</div>`;
}

function admin(){
if(ap.value!=ADMIN){alert("Wrong password");return;}

let h="<div class=card><h3>ADMIN PANEL</h3>";

h+=`<small>
Creativity 30 | Presentation 25 | Technique 25 | Teamwork 20
</small><br><br>`;

h+="<table><tr><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå</th><th>‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠</th><th>‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</th><th>‡∏ó‡∏µ‡∏°</th><th>‡∏£‡∏ß‡∏°</th></tr>";

players.forEach(p=>{
let s=db[p.id];
h+=`<tr>
<td>${p.name}</td>
<td contenteditable oninput="db['${p.id}'].cre=Number(this.innerText)||0">${s.cre}</td>
<td contenteditable oninput="db['${p.id}'].pre=Number(this.innerText)||0">${s.pre}</td>
<td contenteditable oninput="db['${p.id}'].tech=Number(this.innerText)||0">${s.tech}</td>
<td contenteditable oninput="db['${p.id}'].team=Number(this.innerText)||0">${s.team}</td>
<td>${total(s)}</td>
</tr>`;
});

h+="</table><br><button onclick=save()>Save</button> <button onclick=home()>Home</button></div>";
app.innerHTML=h;
}

function save(){
localStorage.setItem("db",JSON.stringify(db));
alert("Saved");
}

</script>
</body>
</html>