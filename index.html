<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Attendance System</title>
<style>
body{font-family:sans-serif;padding:20px}
table{border-collapse:collapse;width:100%}
td,th{border:1px solid #999;padding:6px;text-align:center}
button{padding:5px}
</style>
</head>

<body>

<h2>üìã ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠ + ‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</h2>

<input id="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô">
<button onclick="add()">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>

<table id="table">
<tr>
<th>‡∏ä‡∏∑‡πà‡∏≠</th>
<th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
<th>‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</th>
<th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th>
</tr>
</table>

<br>
<button onclick="exportCSV()">Export CSV</button>

<script>
let students=[]

function add(){
let n=document.getElementById("name").value
students.push({name:n,status:"-",yellow:0,score:100})
draw()
}

function setStatus(i,s){
students[i].status=s
draw()
}

function yellow(i){
students[i].yellow++
students[i].score-=5
draw()
}

function draw(){
let html=`<tr>
<th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th><th>‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th></tr>`
students.forEach((s,i)=>{
html+=`<tr>
<td>${s.name}</td>
<td>
<button onclick="setStatus(${i},'‡∏°‡∏≤')">‡∏°‡∏≤</button>
<button onclick="setStatus(${i},'‡∏Ç‡∏≤‡∏î')">‡∏Ç‡∏≤‡∏î</button>
<button onclick="setStatus(${i},'‡∏™‡∏≤‡∏¢')">‡∏™‡∏≤‡∏¢</button>
<br>${s.status}
</td>
<td>
${s.yellow}
<br><button onclick="yellow(${i})">‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</button>
</td>
<td>${s.score}</td>
</tr>`
})
document.getElementById("table").innerHTML=html
}

function exportCSV(){
let csv="‡∏ä‡∏∑‡πà‡∏≠,‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞,‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á,‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô\n"
students.forEach(s=>{
csv+=`${s.name},${s.status},${s.yellow},${s.score}\n`
})
let blob=new Blob([csv])
let a=document.createElement("a")
a.href=URL.createObjectURL(blob)
a.download="attendance.csv"
a.click()
}
</script>

</body>
</html>