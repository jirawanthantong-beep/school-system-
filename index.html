<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Competition Result System</title>

<style>
body{margin:0;font-family:tahoma;background:#eef1ff;text-align:center}
header{background:#5b3cff;color:white;padding:15px;font-size:22px}
.card{background:white;margin:20px auto;padding:20px;border-radius:12px;max-width:1000px;box-shadow:0 0 10px #ccc}
button{background:#5b3cff;color:white;border:none;padding:8px 15px;border-radius:6px;margin:4px}
input{padding:6px;border-radius:5px;border:1px solid #aaa}
table{border-collapse:collapse;width:100%;font-size:13px}
th,td{border:1px solid #aaa;padding:6px;text-align:center}
th{background:#ddd6ff}
</style>
</head>

<body>

<header>üèÜ Competition Result System</header>

<div id=app></div>

<script>

const ADMIN="9999";

let players=[
{id:"41235",name:"‡∏Å‡∏¥‡∏ï‡∏ï‡∏¥‡∏û‡∏á‡∏®‡πå ‡∏®‡∏£‡∏µ‡∏ó‡∏≠‡∏á"},
{id:"43821",name:"‡∏õ‡∏£‡∏≤‡∏ì‡∏µ ‡∏ß‡∏á‡∏®‡πå‡∏ß‡∏£‡∏£‡∏ì"},
{id:"44123",name:"‡πÑ‡∏≠‡∏•‡∏î‡∏≤‡∏™‡∏¥‡∏á‡∏´‡πå ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå"},
{id:"43881",name:"‡∏Å‡∏§‡∏ï‡∏¥‡∏ç‡∏î‡∏≤ ‡∏ñ‡∏µ‡∏£‡∏ß‡∏á‡∏®‡πå"},
{id:"42759",name:"‡∏û‡∏µ‡∏£‡∏ß‡∏±‡∏ç ‡∏°‡∏ì‡∏µ‡πÇ‡∏ä‡∏ï‡∏¥"}
];

let db=JSON.parse(localStorage.getItem("db")||"{}");

if(!Object.keys(db).length){
players.forEach(p=>{
db[p.id]={
cre:Math.floor(Math.random()*10)+20,
pre:Math.floor(Math.random()*10)+15,
tech:Math.floor(Math.random()*10)+15,
team:Math.floor(Math.random()*10)+10
};
});
localStorage.setItem("db",JSON.stringify(db));
}

home();

function total(x){return x.cre+x.pre+x.tech+x.team;}

function ranking(){
return players.map(p=>({id:p.id,name:p.name,sum:total(db[p.id])}))
.sort((a,b)=>b.sum-a.sum);
}

function home(){
app.innerHTML=`<div class=card>
<h2>üèÅ ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</h2>

<b>‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</b><br>
‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå 30 | ‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ 25 | ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ 25 | ‡∏ó‡∏µ‡∏° 20<br><br>

<button onclick=myResult()>‡∏î‡∏π‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</button>
<button onclick=adminLogin()>Admin</button>
</div>`;
}

function myResult(){
app.innerHTML=`<div class=card>
<h3>‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß</h3>
<input id=sid placeholder="Student ID"><br><br>
<button onclick=showMe()>‡∏î‡∏π‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
<button onclick=home()>Home</button>
</div>`;
}

function showMe(){
let p=players.find(x=>x.id==sid.value);
if(!p){alert("‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏•‡∏Ç‡∏ô‡∏µ‡πâ");return;}

let s=db[p.id];
let r=ranking();
let pos=r.findIndex(x=>x.id==p.id)+1;

app.innerHTML=`<div class=card>
<h3>${p.name}</h3>

<table>
<tr><td>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå</td><td>${s.cre}</td></tr>
<tr><td>‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠</td><td>${s.pre}</td></tr>
<tr><td>‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</td><td>${s.tech}</td></tr>
<tr><td>‡∏ó‡∏µ‡∏°</td><td>${s.team}</td></tr>
<tr><th>‡∏£‡∏ß‡∏°</th><th>${total(s)}</th></tr>
</table>

<br>
<b>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö ${pos}/${players.length}</b>

<br><br>
<button onclick=home()>Home</button>
</div>`;
}

function adminLogin(){
app.innerHTML=`<div class=card>
<h3>Admin Login</h3>
<input id=ap type=password placeholder="Password"><br><br>
<button onclick=admin()>Login</button>
<button onclick=home()>Home</button>
</div>`;
}

function admin(){
if(ap.value!=ADMIN){alert("Wrong password");return;}

let h="<div class=card><h3>ADMIN PANEL</h3><table><tr><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏™‡∏£‡πâ‡∏≤‡∏á</th><th>‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠</th><th>‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</th><th>‡∏ó‡∏µ‡∏°</th><th>‡∏£‡∏ß‡∏°</th></tr>";

players.forEach(p=>{
let s=db[p.id];
h+=`<tr>
<td>${p.name}</td>
<td contenteditable oninput="db['${p.id}'].cre=Number(this.innerText)||0">${s.cre}</td>
<td contenteditable oninput="db['${p.id}'].pre=Number(this.innerText)||0">${s.pre}</td>
<td contenteditable oninput="db['${p.id}'].tech=Number(this.innerText)||0">${s.tech}</td>
<td contenteditable oninput="db['${p.id}'].team=Number(this.innerText)||0">${s.team}</td>
<td>${total(s)}</td>
</tr>`;
});

h+="</table><br><button onclick=save()>Save</button> <button onclick=home()>Home</button></div>";
app.innerHTML=h;
}

function save(){
localStorage.setItem("db",JSON.stringify(db));
alert("Saved");
}

</script>
</body>
</html>